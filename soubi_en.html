<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spec Input Tool</title>
  <style>
    html, body { height: 100%; margin: 0; }
    #app { width: 100%; height: 100%; border: 0; display: block; }
  </style>
</head>
<body>
  <!-- 日本語版をそのまま読み込み（見た目・機能は完全同じ） -->
  <iframe id="app" src="soubi.html?v=3" title="Spec Input Tool"></iframe>

  <script>
  (function () {
    const replacements = new Map([
      ["装備入力ツール","Spec Input Tool"],
      ["装備入力","Spec Input"],
      ["スペック入力","Spec Input"],
      ["仕様入力","Spec Input"],
      ["装備を選択してください","Select specs below"],
      ["必要な装備を選んでください","Select the required specs"],
      ["下のボタンを押して追加","Tap buttons below to add"],
      ["手動入力","Manual Input"],
      ["手動入力欄","Manual Input"],
      ["自由入力","Free Input"],
      ["コピー","Copy"],
      ["全削除","CLEAR"],
      ["削除","Delete Last"],
      ["クリア","Clear"],
      ["アンドゥ","Undo"],
      ["やり直し","Redo"],
      ["並び替え","Sort"],
      ["幅を揃える","Align Width"],
      ["幅を自動調整","Auto Width"],
      ["コピーしました","Copied!"],
      ["削除しました","Deleted."],
      ["最後の項目を削除しました","Deleted the last item."],
      ["全てクリアしました","Cleared all."],
      ["重複です","Duplicate."],
      ["すでに追加されています","Already added."],
      ["入力してください","Please enter a value."],
      ["全削除しますか？","Do you want to clear all specs?"],
      ["本当に削除しますか？","Are you sure you want to delete this?"],
      ["同時に選択できません","Cannot select simultaneously"],
      ["既に選択されています","Already selected"],
      ["削除しますか？","Do you want to delete this?"],
      ["選択肢がありません","No selectable items"],
      ["追加しました","Added!"],
      ["有効な入力ではありません","Invalid input."],
      ["キャンセルされました","Cancelled."],
      ["選択できません","Cannot select this item."],
      ["確認","Confirm"],
      ["はい","Yes"],
      ["いいえ","No"],
      ["選択中","Selected"],
      ["結果","Result"],
      ["装備一覧","Spec List"],
      ["コピー用テキスト","Text to Copy"]
    ]);

    const placeholderReplacements = new Map([
      ["ここに入力","Type here"],
      ["手入力で追加","Add manually"],
      ["検索","Search"]
    ]);

    // 🔧 特殊翻訳対応：「〇〇は〇〇と同時に選択できません」→「Cannot select 〇〇 and 〇〇 at once」
    function replaceText(str) {
      if (!str) return str;
      let out = str;

      // 特殊パターン：○○は○○と同時に選択できません
      const simultaneousPattern = /(.*?)は(.*?)と同時に選択できません/;
      if (simultaneousPattern.test(out)) {
        out = out.replace(simultaneousPattern, "Cannot select $1 and $2 at once");
      }

      // 通常の置換
      for (const [jp, en] of replacemen
